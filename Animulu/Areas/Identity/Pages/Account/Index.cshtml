@page "/account"
@model Animulu.Areas.Identity.Pages.Account.IndexModel
@{
    ViewData["Title"] = "Account profile";
    ViewData["SubTitle"] = "Account";
    ViewData["Identity"] = "true";
}
<div class="row my-5">
    <div class="offset-xl-3 col-xl-6 offset-md-1 col-md-10 col-12 bg-grey-light border-radius-light py-4 mb-2 @if (Model.StatusMessage == "" || Model.StatusMessage == null) {<text>d-none</text>}">
        @Model.StatusMessage
    </div>
    <div class="row offset-xl-3 col-xl-6 offset-md-1 col-md-10 col-12 bg-grey border-radius-light py-4 mx-md-auto mx-0">
        <partial name="_LayoutAccountPartial" />
        <div class="col-md-8 col-12 bg-grey">
            <h5 class="mt-3">Profile</h5>
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <form id="image-form" method="post" class="col-sm-7 col-12 px-0 mt-3 font-content" enctype="multipart/form-data">
                <span>Change profile picture</span>
                <div class="overflow-hidden mt-3" style="height:200px;width:200px;">
                    <img class="border-thin object-fit-cover" style="width: 200px; height: 200px;" src="~/images/avatars/@Model.ProfilePic" />
                </div>
                <div class="form-group my-3">
                    <input asp-for="Input.ProfileImage" type="file" class="p-0 h-100 form-control bg-grey-dark border-grey-dark form-dark-fix" />
                    <span asp-validation-for="Input.ProfileImage" class="text-danger"></span>
                </div>
                <button asp-page-handler="Pic" id="update-pic-button" type="submit" class="btn btn-form mb-3">Upload</button>
                <button asp-page-handler="RemovePic" id="remove-pic-button" type="submit" class="btn btn-form mb-3 ml-2">Remove</button>
            </form>
            <form id="profile-form" method="post" class="col-sm-7 col-12 px-0 mt-3 font-content">
                <span>Change username</span>
                <div class="form-group mb-3 mt-2">
                    <input asp-for="Input.Username" placeholder="Username" class="form-control bg-grey-dark border-grey-dark form-dark-fix" />
                    <span asp-validation-for="Input.Username" class="text-danger"></span>
                </div>
                <div class="form-group my-3">
                    <input asp-for="Input.Password" placeholder="Password" class="form-control bg-grey-dark border-grey-dark form-dark-fix" />
                    <span asp-validation-for="Input.Password" class="text-danger"></span>
                </div>
                <button asp-page-handler="Username" id="update-profile-button" type="submit" class="btn btn-form">Change</button>
            </form>
        </div>
    </div>
</div>
